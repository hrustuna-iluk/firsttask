var SentenceModel=Backbone.Model.extend({defaults:{title:"",check:!1}}),SentenceModelCollection=Backbone.Collection.extend({model:SentenceModel,check:function(){return this.filter(function(a){return a.get("check")}).length}}),SentenceView=Backbone.View.extend({content:$("#main"),className:"quote",template:_.template($("#quote").html()),initialize:function(a){this.collection=a.collection,this.model=this.collection.at(0)},_attachEvents:function(){this.$(".right").on("click",$.proxy(this._correct,this)),this.$(".wrong").on("click",$.proxy(this._incorrect,this)),this.collection.off().on("change",$.proxy(this._nextQuestion,this))},_correct:function(){return this.model?void this.model.set("check",!0):void this._endQuiz()},_incorrect:function(){return this.model?(this.model.set("check",!1),void this.collection.trigger("change",this.model)):void this._endQuiz()},_nextQuestion:function(a){var b=this.collection.indexOf(a);return this.model=this.collection.at(b+1),this.model?void this.render():void this._endQuiz()},_endQuiz:function(){alert("End quiz!")},render:function(){var a=this.collection.check();return this.$el.html(this.template({question:this.model.toJSON(),rightAmount:a,wrongAmount:this.collection.models.length-a,totalAmount:this.collection.models.length})),this.content.html(this.$el),this._attachEvents(),this}}),questions=["some quote","some quote2","some quote3","some quote4","some quote5","some quote6","some quote7","some quote8","some quote9","some quote10"],collection=new SentenceModelCollection;questions.forEach(function(a){var b=new SentenceModel({title:a});collection.add(b)}),new SentenceView({collection:collection}).render();